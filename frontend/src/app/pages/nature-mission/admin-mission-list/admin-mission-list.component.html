<app-layout>
<section class="admin-mission-list">
  <div class="search-bar flex justify-between items-center mb-4">
    <span>{{ totalItems }} résultats</span>
    <div class="flex items-center gap-x-4">
      <input type="text" placeholder="Rechercher mission, collaborateur..." (input)="searchMission($event)" class="border p-2 rounded" />
      <button class="add-button bg-blue-500 text-white px-4 py-2 rounded" (click)="onAddNew()">Ajouter Nouveau</button>
    </div>
  </div>

  <table class="mission-table w-full table-auto border-collapse">
    <thead>
      <tr>
        <th class="border px-4 py-2">ID</th>
        <th class="border px-4 py-2">Libellé</th>
        <th class="border px-4 py-2">Facture</th>
        <th class="border px-4 py-2">Prime</th>
        <th class="border px-4 py-2">Début</th>
        <th class="border px-4 py-2">Fin</th>
        <th class="border px-4 py-2">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let mission of natureMissions" class="hover:bg-gray-100">
        <td class="border px-4 py-2">{{ mission.id }}</td>
        <td class="border px-4 py-2">{{ mission.label }}</td>
        <td class="border px-4 py-2">{{ mission.isEligibleToBounty ? 'Oui' : 'Non' }}</td>
        <td class="border px-4 py-2">{{ mission.bountyRate }}</td>
        <td class="border px-4 py-2">{{ mission.startDate | date: 'dd/MM/yyyy' }}</td>
        <td class="border px-4 py-2">{{ mission.endDate | date: 'dd/MM/yyyy' }}</td>
        <td class="border px-4 py-2 flex gap-x-2">
          <button (click)="onEdit(mission.id)" class="text-yellow-500 hover:text-yellow-700">
            <img src="assets/icons/edit-icon.svg" alt="Edit" class="w-5 h-5" />
          </button>
          <button (click)="onDelete(mission.id)" class="text-red-500 hover:text-red-700">
            <img src="assets/icons/delete-icon.svg" alt="Delete" class="w-5 h-5" />
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="pagination flex justify-center items-center mt-4 gap-x-2">
    <button (click)="prevPage()" [disabled]="currentPage === 1" class="px-3 py-1 border rounded disabled:opacity-50">&lt;</button>
    <button *ngFor="let page of pages" (click)="goToPage(page)" [class.active]="page === currentPage" class="px-3 py-1 border rounded {{ page === currentPage ? 'bg-blue-500 text-white' : '' }}">
      {{ page }}
    </button>
    <button (click)="nextPage()" [disabled]="currentPage === pages.length" class="px-3 py-1 border rounded disabled:opacity-50">&gt;</button>
  </div>
</section>
</app-layout>
